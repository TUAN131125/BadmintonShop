@{
    var ctrl = ViewContext.RouteData.Values["controller"]?.ToString();
    var act = ViewContext.RouteData.Values["action"]?.ToString();
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Portal - BadmintonShop</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="/css/admin.css" />
</head>

<body>
    <div class="admin-wrapper">

        <aside class="admin-sidebar d-flex flex-column">

            <div class="sidebar-brand">
                <i class="fa-solid fa-feather-pointed text-primary fs-3"></i>
                <span class="ms-2 fw-bold fs-5 text-dark">Badminton<span class="text-primary">Admin</span></span>
            </div>

            <div class="sidebar-profile">
                <div class="avatar">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=4f46e5&color=fff"
                         alt="Admin"
                         class="rounded-circle border border-2 border-white shadow-sm"
                         style="width: 45px; height: 45px; object-fit: cover;" />
                </div>
                <div class="info">
                    <span class="name">Administrator</span>
                    <span class="role">Super User</span>
                </div>
            </div>

            <ul class="nav flex-column flex-grow-1">

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Dashboard" ? "active" : "")" asp-area="Admin" asp-controller="Dashboard" asp-action="Index">
                        <i class="fa-solid fa-chart-pie"></i>
                        <span>Dashboard</span>
                    </a>
                </li>

                <li class="nav-header">Store Management</li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Category" ? "active" : "")" asp-area="Admin" asp-controller="Category" asp-action="Index">
                        <i class="fa-solid fa-layer-group"></i>
                        <span>Categories</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Product" ? "active" : "")" asp-area="Admin" asp-controller="Product" asp-action="Index">
                        <i class="fa-solid fa-box-open"></i>
                        <span>Products</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Promotion" ? "active" : "")" asp-area="Admin" asp-controller="Promotion" asp-action="Index">
                        <i class="fa-solid fa-tags"></i>
                        <span>Promotions (Sale)</span>
                        <span class="badge bg-warning text-dark ms-auto rounded-pill" style="font-size: 0.7rem;">Hot</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Order" ? "active" : "")" asp-area="Admin" asp-controller="Order" asp-action="Index">
                        <i class="fa-solid fa-cart-shopping"></i>
                        <span>Orders</span>
                        <span class="badge bg-danger ms-auto rounded-pill">New</span>
                    </a>
                </li>

                <li class="nav-header">Inventory & Logs</li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Inventory" ? "active" : "")" asp-area="Admin" asp-controller="Inventory" asp-action="Index">
                        <i class="fa-solid fa-warehouse"></i>
                        <span>Stock Status</span>
                    </a>
                </li>

                <li class="nav-header">System & Users</li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "Banner" ? "active" : "")" asp-area="Admin" asp-controller="Banner" asp-action="Index">
                        <i class="fa-solid fa-images"></i>
                        <span>Banners & Ads</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl == "News" ? "active" : "")" asp-area="Admin" asp-controller="News" asp-action="Index">
                        <i class="fa-solid fa-newspaper"></i>
                        <span>News</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link @(ctrl != null && ctrl.Contains("User") ? "" : "collapsed")" data-bs-toggle="collapse" href="#userMenu" aria-expanded="@(ctrl != null && ctrl.Contains("User") ? "true" : "false")">
                        <i class="fa-solid fa-users-gear"></i>
                        <span>User Manager</span>
                        <i class="fa-solid fa-chevron-down ms-auto small transition-icon"></i>
                    </a>
                    <div class="collapse @(ctrl != null && ctrl.Contains("User") ? "show" : "")" id="userMenu">
                        <ul class="nav flex-column sub-menu">
                            <li class="nav-item">
                                <a class="nav-link @(ctrl == "AdminUser" ? "active" : "")" asp-area="Admin" asp-controller="AdminUser" asp-action="Index">Admin Staff</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link @(ctrl == "CustomerUser" ? "active" : "")" asp-area="Admin" asp-controller="CustomerUser" asp-action="Index">Customers</a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>

            <div class="sidebar-footer mt-auto">
                <form asp-area="Admin" asp-controller="Auth" asp-action="Logout" method="post">
                    <button type="submit" class="btn btn-light-danger w-100 fw-bold">
                        <i class="fa-solid fa-arrow-right-from-bracket me-2"></i> Logout
                    </button>
                </form>
            </div>

        </aside>

        <main class="admin-main">
            <nav class="navbar navbar-expand bg-white shadow-sm py-3 px-4 mb-4">
                <div class="d-flex align-items-center">
                    <h5 class="mb-0 fw-bold text-dark">
                        @(ViewData["Title"] ?? "Overview")
                    </h5>
                </div>
                <div class="ms-auto d-flex gap-3">
                    <button class="btn btn-light btn-icon rounded-circle position-relative">
                        <i class="fa-regular fa-bell"></i>
                        <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"></span>
                    </button>
                </div>
            </nav>

            <div class="content-wrapper px-4 pb-4">
                @RenderBody()
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>